!function(t,o,n){t(function(){t('a[href^="#"]').on("click",function(n){if("1"===t(this).attr("data-op3-smooth-scroll")){let i=this.hash;t("html, body").animate({scrollTop:t(i).offset().top},1500,function(){o.location.hash=i}),n.preventDefault()}})})}(jQuery,window,document);!function(t,e,a){"use strict";var i=function(a){if(function(){var e=!1,a=t(this).find("input.op3-element-input-edit-text");return a.parent(".op3-element-input-edit").siblings(".op3-element-input-edit-error").remove(),a.each(function(a,i){var o=t(i);if("text"===o.attr("type")&&o.attr("required")&&""===o.val()||"checkbox"===o.attr("type")&&o.attr("required")&&!o.is(":checked")){var n=o.attr("data-op3-validation-message")||o.attr("data-op-validation-message");o.closest(".op3-element-input-wrapper").append('<p class="op3-element-input-edit-error">'+n+"</p>"),e=!0}}),e}.call(this))a.preventDefault();else{if(this.checkValidity()){var i=t(this).find("[name]:not(:disabled)").attr("disabled","disabled"),o=function(){var a={};return t(this).each(function(){var e=t(this).attr("name");if(e&&"op3-dummy"!==e&&"optin-gdpr-activate"!==e&&!/^optin-post-action/.test(e)){var i=t(this).val();if("checkbox"===t(this).attr("type")||"radio"===t(this).attr("type")){var o=t(this),n=o.is(":checked"),r=o.is(":visible"),s=o.closest("fieldset"),p=s?s.closest("[data-op3-extra-field]").attr("data-op3-extra-field"):"0";if(n||!r||p?n||r?!n&&p&&(i=""):i=null:i=!1,Number(p))i=a[e]?a[e]+","+i:i;else if(a[e]instanceof Array)a[e].push(i),i=a[e];else if(a[e]){var l=[a[e]];l.push(i),i=l}}"string"==typeof i&&(i=(i=i.replace(",,",",")).replace(/(^,)|(,$)/g,"")),a[e]=i,"optin-gdpr-consent-1"===e&&(a["optin-gdpr-message-1"]=t(this).closest("label").text()),"optin-gdpr-consent-2"===e&&(a["optin-gdpr-message-2"]=t(this).closest("label").text())}}),a["optin-button-message"]=t(this).closest("form").find('.op3-element[data-op3-element-type="button"] .op3-text-container').text(),e.OPFunnelStats&&e.OPFunnelStats.pageview_record_id&&(a.pageview_record_id=e.OPFunnelStats.pageview_record_id),a}.call(i);if(!o.timezone&&("everwebinar"===o["optin-integration"]||"webinarjam"===o["optin-integration"])){var s=(new Date).getTimezoneOffset();s=0===s?0:-s,o.timezone=s}t(this).find('[data-op3-element-type="button"] a').removeAttr("href").blur(),t.ajax({url:t(this).attr("action"),type:"post",data:o,success:n.bind(i),error:r.bind(i),beforeSend:p.bind(this)})}else t(this).find('[type="submit"]').click();a.preventDefault()}},o=function(e){t(this).attr("href")&&t(this).closest("form").submit(),e.preventDefault()},n=function(i,o,n){var r={},p="";t(this).each(function(){var e=t(this);r[e.attr("name")]=e.val();var a="";a=e.data("op-url-mapping")?e.data("op-url-mapping")?e.data("op-url-mapping"):e.attr("name"):e.data("op3-url-mapping")?e.data("op3-url-mapping"):e.attr("name"),e.is(":visible")&&(p+="&"+a+"="+e.val())});var l=t(this.context).find('.op3-element[data-op3-element-type="button"]');if(s(l),e.OPDashboardPixels&&"1"===e.OPDashboardPixels.enableLeadEvent&&"failed"!==i.data.recaptcha){let t={email:i.data.formParams.email||"",first_name:i.data.formParams.first_name||"",last_name:i.data.formParams.last_name||""},e="OP3_Lead"+Date.now();t=Object.entries(t).reduce((t,[e,a])=>a?(t[e]=a,t):t,{}),OP3Pixels.fireFacebookEvent(e,"Lead",t)}t(this.context).closest(".op3-element ").find(".op3-form-notification").remove(),i&&i.data&&i.data.responseData&&-1!==["everwebinar","webinarjam"].indexOf(r["optin-integration"])&&(OP3.Cookie.set("op3-webinar-response",JSON.stringify(i.data.responseData),{expires:1}),i.data.formParams.timezone&&isNaN(i.data.formParams.timezone)&&OP3.Cookie.set("op3-webinar-timezone",i.data.formParams.timezone,{expires:1})),i&&i.data&&i.data.responseData&&-1!==["demio"].indexOf(r["optin-integration"])&&OP3.Cookie.set("op3-demio-webinar-response",JSON.stringify(i.data.responseData),{expires:1});var d=JSON.stringify(r);if(a.cookie="opb-form-params="+btoa(encodeURIComponent(d),!0)+"; path=/","notification"===r["optin-post-action"]&&r["optin-post-action-notification-text"]){var c=t(this).parent("form");t("<div />").text(r["optin-post-action-notification-text"]).addClass("op3-form-notification").insertBefore(c),c.remove()}else if("redirect"===r["optin-post-action"]&&r["optin-post-action-redirect-url"]){var f=r["optin-post-action-redirect-url"];1*r["optin-post-action-redirect-autofill"]&&(f+=f.split("?").length>1?"&":"?",f+=p.substring(1)),e.location.href=f}else if("popoverlay"===r["optin-post-action"]){var m=r["optin-post-action-popoverlay-trigger"],u=t(this).closest(".op3-popoverlay-content").find(".op3-popoverlay-close")[0];u&&u.click(),setTimeout(function(){OP3.PopOverlay.open(m)},1e3)}else if("hidePopoverlay"===r["optin-post-action"])t(this).closest(".op3-popoverlay-wrapper").find(".op3-popoverlay-close")[0].click();else if("nextFunnelStep"===r["optin-post-action"]){var v=!!(i&&i.data&&i.data.redirect_url)&&i.data.redirect_url;1*r["optin-post-action-redirect-autofill"]&&(v+=v.split("?").length>1?"&":"?",v+=p.substring(1)),v&&(e.location.href=v)}else if("noFunnelStep"===r["optin-post-action"]){v=!!(i&&i.data&&i.data.redirect_url)&&i.data.redirect_url;1*r["optin-post-action-redirect-autofill"]&&(v+=v.split("?").length>1?"&":"?",v+=p.substring(1)),v&&(e.location.href=v)}else if("goToFunnelStep"===r["optin-post-action"]){v=!!(i&&i.data&&i.data.redirect_url)&&i.data.redirect_url;1*r["optin-post-action-redirect-autofill"]&&(v+=v.split("?").length>1?"&":"?",v+=p.substring(1)),v&&(e.location.href=v)}else if("demioRedirect"===r["optin-post-action"]){v=!!(i&&i.data&&i.data.responseData&&i.data.responseData.join_link)&&i.data.responseData.join_link;e.location.href=v}if("everwebinar"===r["optin-integration"]&&"justintime"===t(this).filter('select[name="schedule"]').find("option:selected").attr("data-webinar-type")){v=!!(i&&i.data&&i.data.responseData&&i.data.responseData.user&&i.data.responseData.user.live_room_url)&&i.data.responseData.user.live_room_url;e.location.href=v}},r=function(e,a,i){var o={},n=e.status;t(this).each(function(){var e=t(this);o[e.attr("name")]=e.val();var a="";a=e.data("op-url-mapping")?e.data("op-url-mapping")?e.data("op-url-mapping"):e.attr("name"):e.data("op3-url-mapping")?e.data("op3-url-mapping"):e.attr("name"),e.is(":visible")&&"&"+a+"="+encodeURIComponent(e.val())});var r=t(this).parent("form"),p=t("<div />"),l=t(this.context).find('.op3-element[data-op3-element-type="button"]'),d=e.responseJSON,c="Something went wrong.";s(l),t(this.context).closest(".op3-element ").find(".op3-form-notification").remove(),409==n?(c=d&&d.message?d.message:"You are already subscribed.",p.html(c).addClass("op3-form-notification").addClass("warning-notification")):401==n||403==n?(c="API authorization error.",p.html(c).addClass("op3-form-notification").addClass("error-notification")):(c=d&&d.message?d.message:"Something went wrong.",p.html(c).addClass("op3-form-notification").addClass("error-notification")),p.insertBefore(r).animate({left:"-4px"},120).animate({left:"4px"},120).animate({left:"-4px"},120).animate({left:"4px"},120).animate({left:"0px"},120),r.find("[name]:disabled").removeAttr("disabled"),r.find('[data-op3-element-type="button"] a').attr("href","#").focus()},s=function(t){t.find('[data-op3-background="overlay"]').css("opacity",""),t.find(".submitting").remove(),t.find(".op3-text-container, .op3-subtext").css("display","")},p=function(){var e=t(this);e.find('[data-op3-background="overlay"]').css("opacity",.65),e.find(".op3-text-container, .op3-subtext").css("display","none"),e.find("a").append('<div class="submitting"></div>')};t(function(){var e=["form","contactform"].map(function(t){return'.op3-element[data-op3-element-type="'+t+'"]'}).join(",");t(e).on("submit","form",i).on("click",'.op3-element[data-op3-element-type="button"] a',o)})}(jQuery,window,document);!function(e,t,a){"use strict";t.op3GrecaptchaInit=function(){var t=OP3.Settings.google.recaptchaSiteKey;t&&(e('[data-op3-element-type$="form"] form').each(function(){var a=e(this);grecaptcha.ready(function(){try{grecaptcha.execute(t,{action:"op3optin"}).then(function(t){a.find('[name="op3-grecaptcha-token"]').remove(),e("<input>").attr({type:"hidden",name:"op3-grecaptcha-token",value:t}).appendTo(a);var c=e(".grecaptcha-badge");c.show(),c.css("visibility","visible")})}catch(t){a.find('[name="op3-grecaptcha-token"]').remove(),e("<input>").attr({type:"hidden",name:"op3-grecaptcha-token",value:"invalid"}).appendTo(a)}})}),setTimeout(op3GrecaptchaInit,1e5))},e(function(){var e=OP3.Settings.google.recaptchaSiteKey;if(e&&"undefined"==typeof grecaptcha){var t=a.getElementsByTagName("script")[0],c=a.createElement("script");c.async=!0,c.src="https://www.google.com/recaptcha/api.js?onload=op3GrecaptchaInit&render="+e,t.parentNode.insertBefore(c,t)}else op3GrecaptchaInit()})}(jQuery,window,document);!function(t,n,e){var a=function(n){var e=t(n.target),a=e.closest("form").find('input[name="optin-tag"]'),i=t(n.target).val(),o=[];a.val()&&(o=a.val().split(",")),e.is(":checked")?o.push(i):o=o.filter(function(t){return t!=i}),a.val(o.join(","))},i=function(n){var e=t(n.target).closest("form").find('input[name="optin-tag"]'),a=t(n.target).val(),i=[];e.val()&&(i=e.val().split(",")),i=i.filter(function(t){return t!=a}),e.val(i.join(","))},o=function(n){var e=t(n.target),a=t(n.target).val(),i=e.closest("form").find('input[name="optin-tag"]'),o=[];i.val()&&(o=i.val().split(",")),o.push(a),i.val(o.join(","))};t(function(){t('[data-op3-element-type$="form"] form').each(function(){t(this).find('[data-op3-extra-field="1"][data-op3-extra-field-save-as="tag"]').each(function(){var n=t(this);n.find('[data-op3-element-type="checkbox"] input').on("change",a),n.find("select").on("select2:selecting",i).on("select2:select",o)})})})}(jQuery,window,document);